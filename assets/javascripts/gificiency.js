var __bind=function(a,b){return function(){return a.apply(b,arguments)}};this.Gificiency=function(){function a(a){this.options=a,this.injectPopup=__bind(this.injectPopup,this),this.init()}return a.prototype.init=function(){return this.setDefaultSettings(),this.categories=[],this.parseCategories(),this.setFilterList(),this.getHash()&&this.search(this.getHash()),this.events()},a.prototype.setDefaultSettings=function(){return this.settings={delimiter:"-",searchField:$(".search"),imageClass:"card",items:$(".categories li"),links:$(".link"),filter:$(".filter"),filterToggle:$(".filter-toggle"),filterLink:$(".filter-link"),filterList:$(".filter-list"),filterItem:$(".filter-item"),filterActiveClass:"is-expanded"},$.extend(this.settings,this.options)},a.prototype.events=function(){var a;return this.settings.searchField.on("keyup",function(a){return function(b){return a.search($(b.currentTarget).val())}}(this)),a=_.throttle(this.injectPopup,500),this.settings.items.on("mouseover","a",function(){return function(b){var c,d;return c=$(b.currentTarget),d=c.attr("href"),a(c,d)}}(this)).on("mouseout",function(a){return function(){return a.clearImages()}}(this)),this.settings.filterToggle.on("click",function(a){return function(b){return b.preventDefault(),a.settings.filter.toggleClass(a.settings.filterActiveClass)}}(this)),$(".filter-link").on("click",function(){return function(a){var b;return a.preventDefault(),b=$(a.currentTarget).attr("href"),window.location.href=""+b,location.reload()}}(this))},a.prototype.parseCategories=function(){var a;return a=this,this.settings.items.each(function(){var b,c;return c=$(this),b=a.getCategory(c.text()),null!=b?(a.categories.push(b),c.addClass("category category--"+b)):void 0})},a.prototype.listCategories=function(){var a,b,c,d,e;for(d=this.categories.unique(),e=[],b=0,c=d.length;c>b;b++)a=d[b],e.push(a);return e},a.prototype.getCategory=function(a){return~a.indexOf(this.settings.delimiter)?this.trimCategory(a.split(this.settings.delimiter)[0].split(".")[0]):void 0},a.prototype.trimCategory=function(a){return a.replace(/(\r\n|\n|\r)/gm,"").replace(/\s/g,"")},Array.prototype.unique=function(){var a,b,c,d,e,f;for(b={},a=d=0,e=this.length;e>=0?e>d:d>e;a=e>=0?++d:--d)b[this[a]]=this[a];f=[];for(a in b)c=b[a],f.push(c);return f},a.prototype.setFilterList=function(){var a;return a=this.settings.filterList,$.each(this.listCategories(),function(){return function(b,c){return a.append("<li class='filter-item filter-item--"+c+"'> <a class='filter-link' href='#"+c+"'>"+c+"</a> </li>")}}(this))},a.prototype.injectPopup=function(a,b){return a.parent().append(this.popup(b))},a.prototype.popup=function(a){return $("<img class='"+this.settings.imageClass+"' src='"+a+"'' />")},a.prototype.clearImages=function(){return $("img").each(function(){return $(this).remove()})},a.prototype.search=function(a){return this.settings.links.each(function(){var b;return b=$(this),b.text().search(new RegExp(a,"i"))<0?b.hide():b.show()})},a.prototype.getHash=function(){return""!==window.location.hash?window.location.hash.substring(1):!1},a}();